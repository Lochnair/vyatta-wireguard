type: txt
help: Private key
val_help: txt; 44-character (32-bytes) base64 key
val_help: txt; Key file in /config/auth
val_help: txt; Full path to key file

syntax:expression: exec "if [[ !($VAR(@) =~ ^[0-9a-zA-Z/+]{43}=$) ]]; then key=$VAR(@); if [[ ${key} = ${key%/*} ]]; then key=\"/config/auth/$key\"; fi; [ -e $key ]; exit; fi";
                   "Private key file $VAR(@) not found"
create:
        if [[ $VAR(@) =~ ^[0-9a-zA-Z/+]{43}=$ ]]; then
            echo $VAR(@) | sudo wg set $VAR(../@) private-key /proc/self/fd/0
        else
            key=$VAR(@)
            if [[ $key = ${key%/*} ]]; then key="/config/auth/$key"; fi
            sudo wg set $VAR(../@) private-key $key
        fi

update:
        if [[ $VAR(@) =~ ^[0-9a-zA-Z/+]{43}=$ ]]; then
            echo $VAR(@) | sudo wg set $VAR(../@) private-key /proc/self/fd/0
        else
            key=$VAR(@)
            if [[ $key = ${key%/*} ]]; then key="/config/auth/$key"; fi
            sudo wg set $VAR(../@) private-key $key
        fi
